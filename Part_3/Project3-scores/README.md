Εργασία 3:

Κωνσταντινος Κιτσος - 1900082

Ιωαννης Δαρας - sdi1800040

Γεωργιος Τζαθας - sdi1600168

Μεταγλώττιση

1)cgal_create_CMakeLists -s evaluate

2)cmake -DCGAL_DIR=/usr/local/CGAL-5.5.1 -DCMAKE_BUILD_TYPE=Release .

3)Αντιγραφή του COPYtoCmakeLists.txt στο CmakeLists.txt

4)make

Εχει γινει τροποποιηση των τριων αλγοριθμων της 2ης εργασιας ως εξης:

Επιστρεφουν double score αντι για Polygon_2 polygon. Δηλαδη αντι να επιστρεφουν το πολυγωνο που κατασκευαζουν, υπολογιζουν το λογο εμβαδου το πολυγωνου με το εμβαδο του convex hull και επιστρεφουν κατευθειαν αυτο.
O καθε αλγοριθμος ξεκιναει ενα ρολοι high resolution clock αμεσως μετα την κληση του και μεσα στο εξωτερικο loop που εχει ο καθενας γινεται ο ελεγχος για το cutoff. Δηλαδη καθε φορα που το loop ξεκιναει απ την αρχη, περνει το στιγμιοτυπο του ρολογιου now και ελεγχει αν now - start >= 500*n. Αν ναι επιστρεφει μηδενικο σκορ για max και μοναδιαιο σκορ για min polygonization. Αυτος ο συχνος ελεγχος διασφαλιζει οτι το συνολικο προγραμμα δε θα περιμενει να τελειωσει ενας πολυ χρονοβορος συνδυασμος για να αποφασισει οτι το σκορ θα μηδενιστει. Ο συνδυασμος θα διακοπει και το προγραμμα θα συνεχισει στον επομενο.


Main:

Η συναρτηση classify_points καλειται για να κατηγοριοποιησει τα αρχεια με βαση το μεγεθος τους. Ανοιγει ενα directory με αρχεια και δημιουργει ενα map οπου για καθε μεγεθος που υπαρχει, αντιστοιχιζει αυτο το μεγεθος με ενα vector απο ονοματα αρχειων. Ετσι η καθε συγκριση των αλγοριθμων γινεται ως προς ολα τα αρχεια ενος μεγεθους σημειοσυνολων. Οι πιθανοι συνδυασμοι αλγοριθμων ειναι 7 και τρεχουν με 2 εμφωλευμενα for loops στη main. Ειναι ο local search με αρχικοποιησεις incremental, convex hull και onion, ο simulated annealing με τις ιδιες 3 αρχικοποιησεις και τελος ο ant colony optimization που ειναι αυτοτελης χωρις αρχικοποιηση. Για καθε συνολο αρχειων, καλειται η συναρτηση write_scores για καθεναν απ τους παραπανω συνδυασμους.

Η write scores εχει μια λουπα για καθε αρχειο απ τη λιστα που της δοθηκε. Διαβαζει καθε αρχειο και τρεχει τον καταληλο αλγοριθμο πολυγωνοποιησης (ο οποιος της δοθηκε ως ορισμα) δυο φορες, μια για maximum polygonization και μια για minimum. Ο γενικος αλγοριθμος (απ τους 3 της 2ης εργασιας ) αποφασιζεται με μια if ενω η παραμετρος init που ειναι οι επιμερους συνδυασμοι, περνιεται ως ορισμα. Επιστρεφονται 2 score απ τις 2 κλησεις και με αυτα αυτα προσαυξανονται στο min_score και max_score που ειναι τα αθροισματα. Επισης γινονται update τα min_bound και max_bound καθε φορα που βρισκεται χειροτερο σκορ. Τελος τα αποτελεσματα για το συγκεκριμενο συνδυασμο εκτυπωνονται στο output_file.

H επιλογη των υπολοιπων παρμερων των αλγοριθμων ειναι fixed αντι για καποιο preprocessing. Καναμε επιλογες που "θυσιαζουν" ενα μικρο μερος του βελτιστου αποτελεσματος ωστε σε ανταλλαγμα να αποφευγεται το cutoff σε πολλες περιπτωσεις και συνεπως να μεγιστοποιουνται τα τελικα σκορ (πχ μικρο πληθος κυκλων L). Για μια ενδεικτικη εκτελεση: Στο αρχειο our_output.txt βρισκονται τα αποτελεσματα της συγκρισης των αλγοριθμων για 14 αρχεια μεγεθους απο 10 ως 40 σημεια.
